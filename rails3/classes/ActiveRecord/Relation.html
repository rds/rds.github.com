<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: ActiveRecord::Relation [Rails Framework Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          ActiveRecord::Relation
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/vendor/gems/gems/activerecord-3_0_0_beta/lib/active_record/relation_rb.html">vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a href="../Object.html">Object</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M001293">new</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M001302">any?</a></li>
              <li><a href="#M001295">build</a></li>
              <li><a href="#M001296">create</a></li>
              <li><a href="#M001297">create!</a></li>
              <li><a href="#M001309">delete</a></li>
              <li><a href="#M001308">delete_all</a></li>
              <li><a href="#M001307">destroy</a></li>
              <li><a href="#M001306">destroy_all</a></li>
              <li><a href="#M001316">eager_loading?</a></li>
              <li><a href="#M001301">empty?</a></li>
              <li><a href="#M001310">loaded?</a></li>
              <li><a href="#M001303">many?</a></li>
              <li><a href="#M001294">new</a></li>
              <li><a href="#M001313">primary_key</a></li>
              <li><a href="#M001311">reload</a></li>
              <li><a href="#M001312">reset</a></li>
              <li><a href="#M001298">respond_to?</a></li>
              <li><a href="#M001315">scope_for_create</a></li>
              <li><a href="#M001300">size</a></li>
              <li><a href="#M001299">to_a</a></li>
              <li><a href="#M001314">to_sql</a></li>
              <li><a href="#M001305">update</a></li>
              <li><a href="#M001304">update_all</a></li>
            </ol>
            <h3>protected instance</h3>
            <ol>
              <li><a href="#M001317">method_missing</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li><a href="FinderMethods.html">FinderMethods</a></li>
                <li><a href="Calculations.html">Calculations</a></li>
                <li><a href="SpawnMethods.html">SpawnMethods</a></li>
                <li><a href="QueryMethods.html">QueryMethods</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>JoinOperation</td>
                    <td>=</td>
                    <td class='context-item-value'>Struct.new(:relation, :join_class, :on)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>ASSOCIATION_METHODS</td>
                    <td>=</td>
                    <td class='context-item-value'>[:includes, :eager_load, :preload]</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>MULTI_VALUE_METHODS</td>
                    <td>=</td>
                    <td class='context-item-value'>[:select, :group, :order, :joins, :where, :having]</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>SINGLE_VALUE_METHODS</td>
                    <td>=</td>
                    <td class='context-item-value'>[:limit, :offset, :lock, :readonly, :create_with, :from]</td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>klass</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>table</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M001293'>
                <a name='M001293'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(klass, table)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001293-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001293-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 15</span>&#x000A;15:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">table</span>)&#x000A;16:       <span class="ruby-ivar">@klass</span>, <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">table</span>&#x000A;17:       (<span class="ruby-constant">ASSOCIATION_METHODS</span> <span class="ruby-operator">+</span> <span class="ruby-constant">MULTI_VALUE_METHODS</span>).<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:&quot;@#{v}_values&quot;</span>, [])}&#x000A;18:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M001302'>
                <a name='M001302'></a>
                <div class='synopsis'>
                  <span class='name'>any?</span>
                  <span class='arguments'>() {|*block_args| ...}</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001302-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001302-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 71</span>&#x000A;71:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">any?</span>&#x000A;72:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;73:         <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>) }&#x000A;74:       <span class="ruby-keyword kw">else</span>&#x000A;75:         <span class="ruby-operator">!</span><span class="ruby-identifier">empty?</span>&#x000A;76:       <span class="ruby-keyword kw">end</span>&#x000A;77:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001295'>
                <a name='M001295'></a>
                <div class='synopsis'>
                  <span class='name'>build</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Alias for <a href="Relation.html#M001293">new</a>
                  </p>
                </div>
              </div>
              <div class='method public-instance' id='method-M001296'>
                <a name='M001296'></a>
                <div class='synopsis'>
                  <span class='name'>create</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001296-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001296-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 26</span>&#x000A;26:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;27:       <span class="ruby-identifier">with_create_scope</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">create</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }&#x000A;28:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001297'>
                <a name='M001297'></a>
                <div class='synopsis'>
                  <span class='name'>create!</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001297-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001297-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 30</span>&#x000A;30:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;31:       <span class="ruby-identifier">with_create_scope</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }&#x000A;32:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001309'>
                <a name='M001309'></a>
                <div class='synopsis'>
                  <span class='name'>delete</span>
                  <span class='arguments'>(id_or_array)</span>
                </div>
                <div class='description'>
                  <p>
                  Deletes the row with a primary key matching the <tt>id</tt> argument, using
                  a SQL <tt>DELETE</tt> statement, and returns the number of rows deleted.
                  Active Record objects are not instantiated, so the object&#8217;s callbacks
                  are not executed, including any <tt>:dependent</tt> association options or
                  <a href="Observer.html">Observer</a> methods.
                  </p>
                  <p>
                  You can delete multiple rows at once by passing an Array of <tt>id</tt>s.
                  </p>
                  <p>
                  Note: Although it is often much faster than the alternative, <tt><a
                  href="Relation.html#M001307">destroy</a></tt>, skipping callbacks might
                  bypass business logic in your application that ensures referential
                  integrity or performs other essential jobs.
                  </p>
                  <h4>Examples</h4>
                  <pre># Delete a single row&#x000A;Todo.delete(1)&#x000A;&#x000A;# Delete multiple rows&#x000A;Todo.delete([2,3,4])</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001309-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001309-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 254</span>&#x000A;254:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">id_or_array</span>)&#x000A;255:       <span class="ruby-identifier">where</span>(<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id_or_array</span>).<span class="ruby-identifier">delete_all</span>&#x000A;256:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001308'>
                <a name='M001308'></a>
                <div class='synopsis'>
                  <span class='name'>delete_all</span>
                  <span class='arguments'>(conditions = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Deletes the records matching <tt>conditions</tt> without instantiating the
                  records first, and hence not calling the <tt>destroy</tt> method nor
                  invoking callbacks. This is a single SQL DELETE statement that goes
                  straight to the database, much more efficient than <tt><a
                  href="Relation.html#M001306">destroy_all</a></tt>. Be careful with
                  relations though, in particular <tt>:dependent</tt> rules defined on
                  associations are not honored. Returns the number of rows affected.
                  </p>
                  <h4>Parameters</h4>
                  <ul>
                  <li><tt>conditions</tt> - Conditions are specified the same way as with
                  <tt>find</tt> method.
                  
                  </li>
                  </ul>
                  <h4>Example</h4>
                  <pre>Post.delete_all(&quot;person_id = 5 AND (category = 'Something' OR category = 'Else')&quot;)&#x000A;Post.delete_all([&quot;person_id = ? AND (category = ? OR category = ?)&quot;, 5, 'Something', 'Else'])</pre>
                  <p>
                  Both calls delete the affected posts all at once with a single DELETE
                  statement. If you need to destroy dependent associations or call your
                  <tt>before_*</tt> or <tt>after_destroy</tt> callbacks, use the <tt><a
                  href="Relation.html#M001306">destroy_all</a></tt> method instead.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001308-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001308-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 230</span>&#x000A;230:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;231:       <span class="ruby-identifier">conditions</span> <span class="ruby-value">? </span><span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">delete_all</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">delete</span>.<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reset</span> }&#x000A;232:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001307'>
                <a name='M001307'></a>
                <div class='synopsis'>
                  <span class='name'>destroy</span>
                  <span class='arguments'>(id)</span>
                </div>
                <div class='description'>
                  <p>
                  Destroy an object (or multiple objects) that has the given id, the object
                  is instantiated first, therefore all callbacks and filters are fired off
                  before the object is deleted. This method is less efficient than
                  ActiveRecord#delete but allows cleanup methods and other actions to be run.
                  </p>
                  <p>
                  This essentially finds the object (or multiple objects) with the given id,
                  creates a new object from the attributes, and then calls destroy on it.
                  </p>
                  <h4>Parameters</h4>
                  <ul>
                  <li><tt>id</tt> - Can be either an <a href="../Integer.html">Integer</a> or an
                  Array of Integers.
                  
                  </li>
                  </ul>
                  <h4>Examples</h4>
                  <pre># Destroy a single object&#x000A;Todo.destroy(1)&#x000A;&#x000A;# Destroy multiple objects&#x000A;todos = [1,2,3]&#x000A;Todo.destroy(todos)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001307-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001307-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 205</span>&#x000A;205:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">id</span>)&#x000A;206:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;207:         <span class="ruby-identifier">id</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">one_id</span>) }&#x000A;208:       <span class="ruby-keyword kw">else</span>&#x000A;209:         <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>).<span class="ruby-identifier">destroy</span>&#x000A;210:       <span class="ruby-keyword kw">end</span>&#x000A;211:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001306'>
                <a name='M001306'></a>
                <div class='synopsis'>
                  <span class='name'>destroy_all</span>
                  <span class='arguments'>(conditions = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Destroys the records matching <tt>conditions</tt> by instantiating each
                  record and calling its <tt>destroy</tt> method. Each object&#8217;s
                  callbacks are executed (including <tt>:dependent</tt> association options
                  and <tt>before_destroy</tt>/<tt>after_destroy</tt> <a
                  href="Observer.html">Observer</a> methods). Returns the collection of
                  objects that were destroyed; each will be frozen, to reflect that no
                  changes should be made (since they can&#8217;t be persisted).
                  </p>
                  <p>
                  Note: Instantiation, callback execution, and deletion of each record can be
                  time consuming when you&#8217;re removing many records at once. It
                  generates at least one SQL <tt>DELETE</tt> query per record (or possibly
                  more, to enforce your callbacks). If you want to delete many rows quickly,
                  without concern for their associations or callbacks, use <tt><a
                  href="Relation.html#M001308">delete_all</a></tt> instead.
                  </p>
                  <h4>Parameters</h4>
                  <ul>
                  <li><tt>conditions</tt> - A string, array, or hash that specifies which records
                  to destroy. If omitted, all records are destroyed. See the Conditions
                  section in the introduction to <a href="Base.html">ActiveRecord::Base</a>
                  for more information.
                  
                  </li>
                  </ul>
                  <h4>Examples</h4>
                  <pre>Person.destroy_all(&quot;last_login &lt; '2004-04-04'&quot;)&#x000A;Person.destroy_all(:status =&gt; &quot;inactive&quot;)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001306-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001306-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 177</span>&#x000A;177:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;178:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">conditions</span>&#x000A;179:         <span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">destroy_all</span>&#x000A;180:       <span class="ruby-keyword kw">else</span>&#x000A;181:         <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">destroy</span>}&#x000A;182:         <span class="ruby-identifier">reset</span>&#x000A;183:       <span class="ruby-keyword kw">end</span>&#x000A;184:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001316'>
                <a name='M001316'></a>
                <div class='synopsis'>
                  <span class='name'>eager_loading?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001316-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001316-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 295</span>&#x000A;295:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eager_loading?</span>&#x000A;296:       <span class="ruby-ivar">@should_eager_load</span> <span class="ruby-operator">||=</span> (<span class="ruby-ivar">@eager_load_values</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">||</span> (<span class="ruby-ivar">@includes_values</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">references_eager_loaded_tables?</span>))&#x000A;297:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001301'>
                <a name='M001301'></a>
                <div class='synopsis'>
                  <span class='name'>empty?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001301-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001301-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 67</span>&#x000A;67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty?</span>&#x000A;68:       <span class="ruby-identifier">loaded?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@records</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">count</span>.<span class="ruby-identifier">zero?</span>&#x000A;69:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001310'>
                <a name='M001310'></a>
                <div class='synopsis'>
                  <span class='name'>loaded?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001310-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001310-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 258</span>&#x000A;258:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">loaded?</span>&#x000A;259:       <span class="ruby-ivar">@loaded</span>&#x000A;260:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001303'>
                <a name='M001303'></a>
                <div class='synopsis'>
                  <span class='name'>many?</span>
                  <span class='arguments'>() {|*block_args| ...}</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001303-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001303-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 79</span>&#x000A;79:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">many?</span>&#x000A;80:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;81:         <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">many?</span> { <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>) }&#x000A;82:       <span class="ruby-keyword kw">else</span>&#x000A;83:         <span class="ruby-ivar">@limit_value</span>.<span class="ruby-identifier">present?</span> <span class="ruby-value">? </span><span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">many?</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>&#x000A;84:       <span class="ruby-keyword kw">end</span>&#x000A;85:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001294'>
                <a name='M001294'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001294-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001294-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 20</span>&#x000A;20:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;21:       <span class="ruby-identifier">with_create_scope</span> { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }&#x000A;22:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001313'>
                <a name='M001313'></a>
                <div class='synopsis'>
                  <span class='name'>primary_key</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001313-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001313-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 275</span>&#x000A;275:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">primary_key</span>&#x000A;276:       <span class="ruby-ivar">@primary_key</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">table</span>[<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">primary_key</span>]&#x000A;277:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001311'>
                <a name='M001311'></a>
                <div class='synopsis'>
                  <span class='name'>reload</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001311-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001311-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 262</span>&#x000A;262:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>&#x000A;263:       <span class="ruby-identifier">reset</span>&#x000A;264:       <span class="ruby-identifier">to_a</span> <span class="ruby-comment cmt"># force reload</span>&#x000A;265:       <span class="ruby-keyword kw">self</span>&#x000A;266:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001312'>
                <a name='M001312'></a>
                <div class='synopsis'>
                  <span class='name'>reset</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001312-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001312-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 268</span>&#x000A;268:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset</span>&#x000A;269:       <span class="ruby-ivar">@first</span> = <span class="ruby-ivar">@last</span> = <span class="ruby-ivar">@to_sql</span> = <span class="ruby-ivar">@order_clause</span> = <span class="ruby-ivar">@scope_for_create</span> = <span class="ruby-ivar">@arel</span> = <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword kw">nil</span>&#x000A;270:       <span class="ruby-ivar">@should_eager_load</span> = <span class="ruby-ivar">@join_dependency</span> = <span class="ruby-keyword kw">nil</span>&#x000A;271:       <span class="ruby-ivar">@records</span> = []&#x000A;272:       <span class="ruby-keyword kw">self</span>&#x000A;273:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001298'>
                <a name='M001298'></a>
                <div class='synopsis'>
                  <span class='name'>respond_to?</span>
                  <span class='arguments'>(method, include_private = false)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001298-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001298-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 34</span>&#x000A;34:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span> = <span class="ruby-keyword kw">false</span>)&#x000A;35:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">method_defined?</span>(<span class="ruby-identifier">method</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_private</span>)&#x000A;36: &#x000A;37:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method</span>)&#x000A;38:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:all_attributes_exists?</span>, <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)&#x000A;39:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicScopeMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method</span>)&#x000A;40:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:all_attributes_exists?</span>, <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)&#x000A;41:       <span class="ruby-keyword kw">else</span>&#x000A;42:         <span class="ruby-keyword kw">super</span>&#x000A;43:       <span class="ruby-keyword kw">end</span>&#x000A;44:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001315'>
                <a name='M001315'></a>
                <div class='synopsis'>
                  <span class='name'>scope_for_create</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001315-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001315-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 283</span>&#x000A;283:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scope_for_create</span>&#x000A;284:       <span class="ruby-ivar">@scope_for_create</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>&#x000A;285:         <span class="ruby-ivar">@create_with_value</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@where_values</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">where</span><span class="ruby-operator">|</span>&#x000A;286:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">where</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Predicates</span><span class="ruby-operator">::</span><span class="ruby-constant">Equality</span>)&#x000A;287:             <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">where</span>.<span class="ruby-identifier">operand1</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">where</span>.<span class="ruby-identifier">operand2</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:value</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">where</span>.<span class="ruby-identifier">operand2</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">where</span>.<span class="ruby-identifier">operand2</span>&#x000A;288:           <span class="ruby-keyword kw">end</span>&#x000A;289: &#x000A;290:           <span class="ruby-identifier">hash</span>&#x000A;291:         <span class="ruby-keyword kw">end</span>&#x000A;292:       <span class="ruby-keyword kw">end</span>&#x000A;293:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001300'>
                <a name='M001300'></a>
                <div class='synopsis'>
                  <span class='name'>size</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001300-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001300-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 63</span>&#x000A;63:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">size</span>&#x000A;64:       <span class="ruby-identifier">loaded?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@records</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">count</span>&#x000A;65:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001299'>
                <a name='M001299'></a>
                <div class='synopsis'>
                  <span class='name'>to_a</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001299-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001299-source'>    <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 46</span>&#x000A;46:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>&#x000A;47:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@records</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">loaded?</span>&#x000A;48: &#x000A;49:       <span class="ruby-ivar">@records</span> = <span class="ruby-identifier">eager_loading?</span> <span class="ruby-value">? </span><span class="ruby-identifier">find_with_associations</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-identifier">arel</span>.<span class="ruby-identifier">to_sql</span>)&#x000A;50: &#x000A;51:       <span class="ruby-identifier">preload</span> = <span class="ruby-ivar">@preload_values</span>&#x000A;52:       <span class="ruby-identifier">preload</span> <span class="ruby-operator">+=</span>  <span class="ruby-ivar">@includes_values</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">eager_loading?</span>&#x000A;53:       <span class="ruby-identifier">preload</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">associations</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:preload_associations</span>, <span class="ruby-ivar">@records</span>, <span class="ruby-identifier">associations</span>) } &#x000A;54: &#x000A;55:       <span class="ruby-comment cmt"># @readonly_value is true only if set explicity. @implicit_readonly is true if there are JOINS and no explicit SELECT.</span>&#x000A;56:       <span class="ruby-identifier">readonly</span> = <span class="ruby-ivar">@readonly_value</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@implicit_readonly</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@readonly_value</span>&#x000A;57:       <span class="ruby-ivar">@records</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span> <span class="ruby-identifier">record</span>.<span class="ruby-identifier">readonly!</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">readonly</span>&#x000A;58: &#x000A;59:       <span class="ruby-ivar">@loaded</span> = <span class="ruby-keyword kw">true</span>&#x000A;60:       <span class="ruby-ivar">@records</span>&#x000A;61:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001314'>
                <a name='M001314'></a>
                <div class='synopsis'>
                  <span class='name'>to_sql</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001314-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001314-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 279</span>&#x000A;279:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_sql</span>&#x000A;280:       <span class="ruby-ivar">@to_sql</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">to_sql</span>&#x000A;281:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001305'>
                <a name='M001305'></a>
                <div class='synopsis'>
                  <span class='name'>update</span>
                  <span class='arguments'>(id, attributes)</span>
                </div>
                <div class='description'>
                  <p>
                  Updates an object (or multiple objects) and saves it to the database, if
                  validations pass. The resulting object is returned whether the object was
                  saved successfully to the database or not.
                  </p>
                  <h4>Parameters</h4>
                  <ul>
                  <li><tt>id</tt> - This should be the id or an array of ids to be updated.
                  
                  </li>
                  <li><tt>attributes</tt> - This should be a hash of attributes to be set on the
                  object, or an array of hashes.
                  
                  </li>
                  </ul>
                  <h4>Examples</h4>
                  <pre># Updating one record:&#x000A;Person.update(15, :user_name =&gt; 'Samuel', :group =&gt; 'expert')&#x000A;&#x000A;# Updating multiple records:&#x000A;people = { 1 =&gt; { &quot;first_name&quot; =&gt; &quot;David&quot; }, 2 =&gt; { &quot;first_name&quot; =&gt; &quot;Jeremy&quot; } }&#x000A;Person.update(people.keys, people.values)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001305-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001305-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 140</span>&#x000A;140:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">attributes</span>)&#x000A;141:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;142:         <span class="ruby-identifier">idx</span> = <span class="ruby-value">-1</span>&#x000A;143:         <span class="ruby-identifier">id</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>; <span class="ruby-identifier">update</span>(<span class="ruby-identifier">one_id</span>, <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">idx</span>]) }&#x000A;144:       <span class="ruby-keyword kw">else</span>&#x000A;145:         <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)&#x000A;146:         <span class="ruby-identifier">object</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">attributes</span>)&#x000A;147:         <span class="ruby-identifier">object</span>&#x000A;148:       <span class="ruby-keyword kw">end</span>&#x000A;149:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M001304'>
                <a name='M001304'></a>
                <div class='synopsis'>
                  <span class='name'>update_all</span>
                  <span class='arguments'>(updates, conditions = nil, options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Updates all records with details given if they match a set of conditions
                  supplied, limits and order can also be supplied. This method constructs a
                  single SQL UPDATE statement and sends it straight to the database. It does
                  not instantiate the involved models and it does not trigger Active Record
                  callbacks or validations.
                  </p>
                  <h4>Parameters</h4>
                  <ul>
                  <li><tt>updates</tt> - A string, array, or hash representing the SET part of an
                  SQL statement.
                  
                  </li>
                  <li><tt>conditions</tt> - A string, array, or hash representing the WHERE part
                  of an SQL statement. See conditions in the intro.
                  
                  </li>
                  <li><tt>options</tt> - Additional options are <tt>:limit</tt> and
                  <tt>:order</tt>, see the examples for usage.
                  
                  </li>
                  </ul>
                  <h4>Examples</h4>
                  <pre># Update all customers with the given attributes&#x000A;Customer.update_all :wants_email =&gt; true&#x000A;&#x000A;# Update all books with 'Rails' in their title&#x000A;Book.update_all &quot;author = 'David'&quot;, &quot;title LIKE '%Rails%'&quot;&#x000A;&#x000A;# Update all avatars migrated more than a week ago&#x000A;Avatar.update_all ['migrated_at = ?', Time.now.utc], ['migrated_at &gt; ?', 1.week.ago]&#x000A;&#x000A;# Update all books that match our conditions, but limit it to 5 ordered by date&#x000A;Book.update_all &quot;author = 'David'&quot;, &quot;title LIKE '%Rails%'&quot;, :order =&gt; 'created_at', :limit =&gt; 5</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001304-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001304-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 111</span>&#x000A;111:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>, <span class="ruby-identifier">conditions</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = {})&#x000A;112:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">conditions</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">present?</span>&#x000A;113:         <span class="ruby-identifier">where</span>(<span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">apply_finder_options</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">:limit</span>, <span class="ruby-identifier">:order</span>)).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>)&#x000A;114:       <span class="ruby-keyword kw">else</span>&#x000A;115:         <span class="ruby-comment cmt"># Apply limit and order only if they're both present</span>&#x000A;116:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@limit_value</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@order_values</span>.<span class="ruby-identifier">present?</span>&#x000A;117:           <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:sanitize_sql_for_assignment</span>, <span class="ruby-identifier">updates</span>))&#x000A;118:         <span class="ruby-keyword kw">else</span>&#x000A;119:           <span class="ruby-identifier">except</span>(<span class="ruby-identifier">:limit</span>, <span class="ruby-identifier">:order</span>).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>)&#x000A;120:         <span class="ruby-keyword kw">end</span>&#x000A;121:       <span class="ruby-keyword kw">end</span>&#x000A;122:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Protected instance methods</h2>
              <div class='method protected-instance' id='method-M001317'>
                <a name='M001317'></a>
                <div class='synopsis'>
                  <span class='name'>method_missing</span>
                  <span class='arguments'>(method, *args, &amp;block)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M001317-source'); return false">
                    [show source]
                  </a>
                  <pre id='M001317-source'>     <span class="ruby-comment cmt"># File vendor/gems/gems/activerecord-3.0.0.beta/lib/active_record/relation.rb, line 301</span>&#x000A;301:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;302:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span>.<span class="ruby-identifier">method_defined?</span>(<span class="ruby-identifier">method</span>)&#x000A;303:         <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;304:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>)&#x000A;305:         <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:with_scope</span>, <span class="ruby-keyword kw">self</span>) { <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }&#x000A;306:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>)&#x000A;307:         <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;308:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method</span>)&#x000A;309:         <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>&#x000A;310:         <span class="ruby-keyword kw">super</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:all_attributes_exists?</span>, <span class="ruby-identifier">attributes</span>)&#x000A;311: &#x000A;312:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">finder?</span>&#x000A;313:           <span class="ruby-identifier">find_by_attributes</span>(<span class="ruby-identifier">match</span>, <span class="ruby-identifier">attributes</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;314:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">instantiator?</span>&#x000A;315:           <span class="ruby-identifier">find_or_instantiator_by_attributes</span>(<span class="ruby-identifier">match</span>, <span class="ruby-identifier">attributes</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;316:         <span class="ruby-keyword kw">end</span>&#x000A;317:       <span class="ruby-keyword kw">else</span>&#x000A;318:         <span class="ruby-keyword kw">super</span>&#x000A;319:       <span class="ruby-keyword kw">end</span>&#x000A;320:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
